<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>restricted-shell-create - create a restricted shell environment using rbash</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<li><a href="#examples">EXAMPLES</a></li>
	<li><a href="#environment">ENVIRONMENT</a></li>
	<li><a href="#files">FILES</a></li>
	<li><a href="#standards">STANDARDS</a></li>
	<li><a href="#availability">AVAILABILITY</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#authors">AUTHORS</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>restricted-shell-create - create a restricted shell environment using rbash</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
  restricted-shell-create [options] &lt;login name&gt; &lt;list of allowed commands&gt;</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Program to create a restricted shell environment using
<code>/bin/rbash</code>. Creates a LOGIN NAME if it does not exist.</p>
<p>Program can only be run by root and it must be run on a host,
that has direct access to the user's home; not on a host that NFS
mounts /home. The allowed commands must be on PATH or written
using full path name.</p>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<dl>
<dt><strong><a name="d_homeroot" class="item"><strong>-d, --homeroot</strong></a></strong></dt>

<dd>
<p>The mount directory of system home. Defaults to /home.</p>
</dd>
<dt><strong><a name="d_debug" class="item"><strong>-D, --debug</strong></a></strong></dt>

<dd>
<p>Activate shell debug.</p>
</dd>
<dt><strong><a name="f_force" class="item"><strong>-f, --force</strong></a></strong></dt>

<dd>
<p>Allow destructive changes, like overwriting files while copying
bash startup to user's home directory.</p>
</dd>
<dt><strong><a name="g_group" class="item"><strong>-g, --group</strong></a></strong></dt>

<dd>
<p>If provided, passed to <strong>usedadd(1)</strong> command if user does not
exist.</p>
</dd>
<dt><strong><a name="h_help" class="item"><strong>-h, --help</strong></a></strong></dt>

<dd>
<p>Display short help.</p>
</dd>
<dt><strong><a name="i_init" class="item"><strong>-i, --init</strong></a></strong></dt>

<dd>
<p>Clean initialization. Delete all previous commands from user's
<code>bin/</code> directory before creating suymlinks to the allowed
commands.</p>
</dd>
<dt><strong><a name="o_chown_user_group" class="item"><strong>-o, --chown USER:GROUP</strong></a></strong></dt>

<dd>
<p>Set permissions to USER:GROUP. Defaults to root:root.</p>
</dd>
<dt><strong><a name="s_shell_program" class="item"><strong>-s, --shell PROGRAM</strong></a></strong></dt>

<dd>
<p>Set PROGRAM to user's <strong>--user</strong> shell. Defualts to <code>/bin/rbash</code>.</p>
</dd>
<dt><strong><a name="t_test" class="item"><strong>-t, --test</strong></a></strong></dt>

<dd>
<p>Show what commands would be run. Do not actually do anything.</p>
</dd>
<dt><strong><a name="v_verbose" class="item"><strong>-v, --verbose</strong></a></strong></dt>

<dd>
<p>Be verbose.</p>
</dd>
<dt><strong><a name="v_version" class="item"><strong>-V, --version</strong></a></strong></dt>

<dd>
<p>Display version information.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="examples">EXAMPLES</a></h1>
<p>Create user dummy, allow it to run commands <code>date(1)</code>, <code>ls(1)</code> and
<code>ssh(1)</code> but don't actually do anything:</p>
<pre>
    restricted-shell-create --test dummy date ls ssh</pre>
<p>Same, but clean all other command that user may have had access
to from last setup:</p>
<pre>
    restricted-shell-create --test --init dummy date ls ssh</pre>
<p>Overwrite account files while creating the restricted shell
environment:</p>
<pre>
    restricted-shell-create --force --init dummy date ls ssh</pre>
<p>
</p>
<hr />
<h1><a name="environment">ENVIRONMENT</a></h1>
<p>None.</p>
<p>
</p>
<hr />
<h1><a name="files">FILES</a></h1>
<p>Directory <code>/ust/share/restricted-shell-rbash</code> contains template
field. These are not user editable as they are overwritten by
next install. If you want to supply your own, copy them over to
user directory after this program.</p>
<p>
</p>
<hr />
<h1><a name="standards">STANDARDS</a></h1>
<p>None.</p>
<p>
</p>
<hr />
<h1><a name="availability">AVAILABILITY</a></h1>
<p><a href="http://freecode.com/projects/restricted-shell-rbash">http://freecode.com/projects/restricted-shell-rbash</a></p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><code>bash(1)</code>
<code>rbash(1)</code>
<code>ssh(1)</code></p>
<p>
</p>
<hr />
<h1><a name="authors">AUTHORS</a></h1>
<p>Program was written by &lt;<a href="mailto:jari.aalto@cante.net">jari.aalto@cante.net</a>&gt;</p>
<p>Released under license GNU GPL version 2 or (at your option) any
later version. For more information about license, visit
&lt;http://www.gnu.org/copyleft/gpl.html&gt;.</p>

</body>

</html>
